<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>rwqccnuimd的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="rwqccnuimd的博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="rwqccnuimd的博客">
<meta property="og:locale">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="rwqccnuimd的博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">rwqccnuimd的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-other/time_series_pred" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/14/other/time_series_pred/" class="article-date">
  <time class="dt-published" datetime="2023-05-14T05:59:20.000Z" itemprop="datePublished">2023-05-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/14/other/time_series_pred/">时间序列预测</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="fbprophet"><a href="#fbprophet" class="headerlink" title="fbprophet"></a>fbprophet</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装pystan</span></span><br><span class="line">pip install --upgrade pystan</span><br><span class="line">pip install pystan</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装fbprophet</span></span><br><span class="line">pip install convertdate holidays</span><br><span class="line">conda install -c conda-forge fbprophet</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/14/other/time_series_pred/" data-id="clij1r39c00034tc82k6wb3nt" data-title="时间序列预测" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%A2%84%E6%B5%8B/" rel="tag">时间序列预测</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-other/customer_analysis_in_python" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/01/other/customer_analysis_in_python/" class="article-date">
  <time class="dt-published" datetime="2023-05-01T07:20:13.000Z" itemprop="datePublished">2023-05-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/01/other/customer_analysis_in_python/">用户价值分析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-客户终身价值CLV-Customer-Lifetime-Value"><a href="#1-客户终身价值CLV-Customer-Lifetime-Value" class="headerlink" title="1. 客户终身价值CLV Customer Lifetime Value"></a>1. 客户终身价值CLV Customer Lifetime Value</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo pip install lifetimes</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">代码来自： https://zhuanlan.zhihu.com/p/139510382</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 编造数据</span></span><br><span class="line"><span class="keyword">from</span> faker <span class="keyword">import</span> Faker   <span class="comment"># 1</span></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">fake = Faker()  </span><br><span class="line"></span><br><span class="line">base_clv_df = data_features[[<span class="string">&#x27;ZF&#x27;</span>, <span class="string">&#x27;member_no&#x27;</span>]]</span><br><span class="line">clv_data = []</span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> tqdm(base_clv_df.iterrows()):</span><br><span class="line">    num = row[<span class="string">&#x27;ZF&#x27;</span>]</span><br><span class="line">    member_no = row[<span class="string">&#x27;member_no&#x27;</span>]</span><br><span class="line">    <span class="comment"># 随机生成数据</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        date = fake.date_time_between(start_date=<span class="string">&quot;-720d&quot;</span>, end_date=<span class="string">&quot;now&quot;</span>)</span><br><span class="line">        date = date.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">        price = fake.pyfloat(min_value=<span class="number">200</span>, max_value=<span class="number">10000</span>)        <span class="comment"># Python浮点数 </span></span><br><span class="line">        clv_data.append([member_no, date, price])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">clv_data_df = pd.DataFrame(data=clv_data, columns=[<span class="string">&#x27;member_no&#x27;</span>, <span class="string">&#x27;order_time&#x27;</span>, <span class="string">&#x27;price&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lifetimes.utils <span class="keyword">import</span> summary_data_from_transaction_data</span><br><span class="line">summary = summary_data_from_transaction_data(clv_data_df, <span class="string">&#x27;member_no&#x27;</span>, <span class="string">&#x27;order_time&#x27;</span>,<span class="string">&#x27;price&#x27;</span>,observation_period_end=<span class="string">&#x27;2023-05-01&#x27;</span>)</span><br><span class="line">summary = summary[summary[<span class="string">&#x27;frequency&#x27;</span>]&gt;<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入BG/NBD模型，通过模型拟合，得到4个参数（r， ，a，b）。</span></span><br><span class="line"><span class="keyword">from</span> lifetimes <span class="keyword">import</span> BetaGeoFitter</span><br><span class="line">bgf = BetaGeoFitter(penalizer_coef=<span class="number">0.0</span>)<span class="comment">#L2正则项</span></span><br><span class="line">bgf.fit(summary[<span class="string">&#x27;frequency&#x27;</span>], summary[<span class="string">&#x27;recency&#x27;</span>], summary[<span class="string">&#x27;T&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(bgf)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测客户预期的lifetime value</span></span><br><span class="line"><span class="keyword">from</span> lifetimes <span class="keyword">import</span> GammaGammaFitter</span><br><span class="line">ggf = GammaGammaFitter(penalizer_coef = <span class="number">0.5</span>)</span><br><span class="line">ggf.fit(summary[<span class="string">&#x27;frequency&#x27;</span>],</span><br><span class="line">        summary[<span class="string">&#x27;monetary_value&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(ggf)</span><br><span class="line"></span><br><span class="line"><span class="comment"># refit the BG model to the summary_with_money_value dataset</span></span><br><span class="line"><span class="comment"># bgf.fit(summary[&#x27;frequency&#x27;], summary[&#x27;recency&#x27;], summary[&#x27;T&#x27;])</span></span><br><span class="line"></span><br><span class="line">clv_result_df = ggf.customer_lifetime_value(</span><br><span class="line">    bgf, <span class="comment">#the model to use to predict the number of future transactions</span></span><br><span class="line">    summary[<span class="string">&#x27;frequency&#x27;</span>],</span><br><span class="line">    summary[<span class="string">&#x27;recency&#x27;</span>],</span><br><span class="line">    summary[<span class="string">&#x27;T&#x27;</span>],</span><br><span class="line">    summary[<span class="string">&#x27;monetary_value&#x27;</span>],</span><br><span class="line">    time=<span class="number">4</span>, <span class="comment"># months</span></span><br><span class="line">    discount_rate=<span class="number">0.01</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">clv_result_df = clv_result_df.to_frame().reset_index()</span><br><span class="line"></span><br><span class="line">clv_result_df.head()</span><br></pre></td></tr></table></figure>

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/tonydz0523/article/details/86256803">https://blog.csdn.net/tonydz0523/article/details/86256803</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/139510382">https://zhuanlan.zhihu.com/p/139510382</a></li>
<li><a target="_blank" rel="noopener" href="https://lifetimes.readthedocs.io/en/latest/Quickstart.html">https://lifetimes.readthedocs.io/en/latest/Quickstart.html</a></li>
</ol>
<h1 id="2-航空客户价值因素分析"><a href="#2-航空客户价值因素分析" class="headerlink" title="2. 航空客户价值因素分析"></a>2. 航空客户价值因素分析</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/01/other/customer_analysis_in_python/" data-id="clij1r39500004tc8hwbderb9" data-title="用户价值分析" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-other/PEP8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/15/other/PEP8/" class="article-date">
  <time class="dt-published" datetime="2022-06-15T06:40:06.000Z" itemprop="datePublished">2022-06-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/15/other/PEP8/">PEP-8: Python代码规范</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="目前写代码出现的问题"><a href="#目前写代码出现的问题" class="headerlink" title="目前写代码出现的问题"></a>目前写代码出现的问题</h1><ol>
<li>函数命名问题：语义不清晰<ul>
<li>别人看不懂自己的命名</li>
<li>过了一段时间自己看不懂自己的命名</li>
</ul>
</li>
</ol>
<h1 id="代码缩进"><a href="#代码缩进" class="headerlink" title="代码缩进"></a>代码缩进</h1><blockquote>
<p>Continuation lines should align wrapped elements either vertically using Python’s implicit line joining inside parentheses, brackets and braces, or using a hanging indent [1]. When using a hanging indent the following should be considered; there should be no arguments on the first line and further indentation should be used to clearly distinguish itself as a continuation line</p>
</blockquote>
<blockquote>
<p>续行应该垂直对齐包裹的元素，可以使用Python的隐式行连接内括号、括号和大括号，也可以使用悬挂缩进。使用悬挂缩进时，应考虑以下事项：；第一行上不应有任何参数，应使用进一步的缩进，以清楚地将其本身区分为连续行</p>
</blockquote>
<blockquote>
<p>Python会将 圆括号, 中括号和花括号中的行隐式的连接起来</p>
</blockquote>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法1: 每行两个参数，参数与参数之间对齐</span></span><br><span class="line">foo = long_function_name(var_one, var_two,</span><br><span class="line">                         var_three, var_four)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确写法2: 添加4个空格（额外的缩进级别）以区分参数和其他参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">long_function_name</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">        var_one, var_two, var_three,</span></span></span><br><span class="line"><span class="function"><span class="params">        var_four</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(var_one)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确写法3: 悬挂缩进应添加一个级别</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">long_function_name</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    var_one, var_two,</span></span></span><br><span class="line"><span class="function"><span class="params">    var_three, var_four</span>):</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法1: 第二行函数参数没有跟第一行对齐; 函数括号另起了一行</span></span><br><span class="line">foo = long_function_name(var_one, var_two,</span><br><span class="line">                        var_three, var_four</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法2: 不使用垂直对齐时，第一行上的参数被禁止</span></span><br><span class="line">foo = long_function_name(var_one, var_two, </span><br><span class="line">    var_three, var_four)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法3: 由于压痕无法区分，需要进一步缩进</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">long_function_name</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    var_one, var_two, var_three,</span></span></span><br><span class="line"><span class="function"><span class="params">    var_four</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(var_one)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数命名以<code>正确写法3为主</code>。不要让括号独占一行。</p>
</blockquote>
<h2 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h2><p>When the conditional part of an if-statement is long enough to require that it be written across multiple lines, it’s worth noting that the combination of a two character keyword (i.e. if), plus a single space, plus an opening parenthesis creates a natural 4-space indent for the subsequent lines of the multiline conditional. This can produce a visual conflict with the indented suite of code nested inside the if-statement, which would also naturally be indented to 4 spaces. This PEP takes no explicit position on how (or whether) to further visually distinguish such conditional lines from the nested suite inside the if-statement. Acceptable options in this situation include, but are not limited to:</p>
<blockquote>
<p>当if语句的条件部分足够长，需要跨多行写入时，值得注意的是，两个字符的关键字（即if）加上一个空格，再加上一个左括号的组合会为多行条件语句的后续行创建一个自然的4空格缩进。这可能会与嵌套在if语句中的缩进代码集产生视觉冲突，这自然也会缩进到4个空格。对于如何（或是否）进一步直观地将这些条件行与if语句中的嵌套套件区分开来，该PEP没有明确的立场。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法1: 没有多余缩进, 前后对齐</span></span><br><span class="line"><span class="keyword">if</span> (this_is_one_thing <span class="keyword">and</span> </span><br><span class="line">    that_is_another_thing):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确写法2: and在第二行, 同时再次缩进</span></span><br><span class="line"><span class="keyword">if</span> (this_is_one_thing</span><br><span class="line">        <span class="keyword">and</span> that_is_another_thing):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="每一行最大字符数"><a href="#每一行最大字符数" class="headerlink" title="每一行最大字符数"></a>每一行最大字符数</h2><ul>
<li><p>Limit all lines to a maximum of <code>79</code> characters.</p>
</li>
<li><p>For flowing long blocks of text with fewer structural restrictions (<code>docstrings or comments</code>), the line length should be limited to <code>72</code> characters.</p>
</li>
<li><p>The preferred way of wrapping long lines is by using Python’s implied line continuation inside parentheses, brackets and braces. Long lines can be broken over multiple lines by wrapping expressions in parentheses. These should be used in preference to using a backslash for line continuation.</p>
</li>
</ul>
<blockquote>
<p>包装长行的首选方法是在括号、括号和大括号内使用Python的隐含行继续。通过将表达式括在括号中，可以在多行上打断长行。应优先使用这些选项，而不是使用反斜杠作为行延续。</p>
</blockquote>
<h2 id="二元运算符"><a href="#二元运算符" class="headerlink" title="二元运算符"></a>二元运算符</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法: 加括号, 换行后运算符写在前面, 与第一个参数对齐</span></span><br><span class="line">income = (gross_wages </span><br><span class="line">          + taxable_interst</span><br><span class="line">          + (dividents - qualified_dividents)</span><br><span class="line">          - ira_deducation</span><br><span class="line">          - student_loan_interst)</span><br></pre></td></tr></table></figure>

<h1 id="表达式中空格的使用"><a href="#表达式中空格的使用" class="headerlink" title="表达式中空格的使用"></a>表达式中空格的使用</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法:</span></span><br><span class="line">foo = (<span class="number">0</span>,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法</span></span><br><span class="line">foo = (<span class="number">0</span>, )</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在元祖中，只有一个元素的时候禁止在逗号后面写空格！</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法:</span></span><br><span class="line">ham[<span class="number">1</span>:<span class="number">9</span>], ham[<span class="number">1</span>:<span class="number">9</span>:<span class="number">3</span>], ham[:<span class="number">9</span>:<span class="number">3</span>], ham[<span class="number">1</span>::<span class="number">3</span>], ham[<span class="number">1</span>:<span class="number">9</span>:]</span><br><span class="line">ham[lower:upper], ham[lower:upper:], ham[lower::step]</span><br><span class="line">ham[lower+offset : upper+offset]</span><br><span class="line">ham[lower + offset : upper + offset]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法:</span></span><br><span class="line">ham[<span class="number">1</span>: <span class="number">9</span>], ham[<span class="number">1</span>: <span class="number">9</span>: <span class="number">3</span>], ham[: <span class="number">9</span>: <span class="number">3</span>], ham[<span class="number">1</span> :: <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在进行列表切片操作的时, 常数不要出现空格, 有表达式的时候表达式中不要有空格，切片运算符<code>:</code>要有空格</p>
</blockquote>
<h1 id="编程建议"><a href="#编程建议" class="headerlink" title="编程建议"></a>编程建议</h1><h2 id="判断一个集合-list-tuble-str-是否为空"><a href="#判断一个集合-list-tuble-str-是否为空" class="headerlink" title="判断一个集合(list, tuble, str)是否为空"></a>判断一个集合(list, tuble, str)是否为空</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">if</span> s:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(s):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="与true-false比较"><a href="#与true-false比较" class="headerlink" title="与true, false比较"></a>与true, false比较</h2><blockquote>
<p>Don’t compare boolean values to True or False using ==:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确写法: 什么都不写</span></span><br><span class="line"><span class="keyword">if</span> greeing:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法</span></span><br><span class="line"><span class="keyword">if</span> greeting == <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误写法</span></span><br><span class="line"><span class="keyword">if</span> greeting <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>is True</code>这样的不要用, is运算符是用来<code>比较判断的是对象间的唯一身份标识</code></p>
</blockquote>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li><a target="_blank" rel="noopener" href="https://peps.python.org/pep-0008/#introduction">https://peps.python.org/pep-0008/#introduction</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8b6c425b65a6">https://www.jianshu.com/p/8b6c425b65a6</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/google-python-styleguide.htmly">https://www.runoob.com/w3cnote/google-python-styleguide.htmly</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/15/other/PEP8/" data-id="cl85d5h4h005ci99ogi5y04gr" data-title="PEP-8: Python代码规范" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-other/fanqie" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/29/other/fanqie/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T10:56:06.000Z" itemprop="datePublished">2022-05-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/29/other/fanqie/">番茄工作法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一天结束"><a href="#一天结束" class="headerlink" title="一天结束"></a>一天结束</h2><h3 id="记录"><a href="#记录" class="headerlink" title="记录"></a>记录</h3><h3 id="处理"><a href="#处理" class="headerlink" title="处理"></a>处理</h3><h3 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h3><h2 id="计划外紧急表格"><a href="#计划外紧急表格" class="headerlink" title="计划外紧急表格"></a>计划外紧急表格</h2><h2 id="评估一个项目所需要花费的番茄钟"><a href="#评估一个项目所需要花费的番茄钟" class="headerlink" title="评估一个项目所需要花费的番茄钟"></a>评估一个项目所需要花费的番茄钟</h2><h2 id="作息不规律更容易迷茫与焦虑"><a href="#作息不规律更容易迷茫与焦虑" class="headerlink" title="作息不规律更容易迷茫与焦虑"></a>作息不规律更容易迷茫与焦虑</h2><h2 id="番茄钟来形成条件反射"><a href="#番茄钟来形成条件反射" class="headerlink" title="番茄钟来形成条件反射"></a>番茄钟来形成条件反射</h2><h2 id="多巴胺不足的话不能让我集中注意力做事情"><a href="#多巴胺不足的话不能让我集中注意力做事情" class="headerlink" title="多巴胺不足的话不能让我集中注意力做事情"></a>多巴胺不足的话不能让我集中注意力做事情</h2><h2 id="环境的频繁变化会降低生产力，因为注意力的切换需要时间"><a href="#环境的频繁变化会降低生产力，因为注意力的切换需要时间" class="headerlink" title="环境的频繁变化会降低生产力，因为注意力的切换需要时间"></a>环境的频繁变化会降低生产力，因为注意力的切换需要时间</h2><h2 id="为什么会拖延"><a href="#为什么会拖延" class="headerlink" title="为什么会拖延"></a>为什么会拖延</h2><h3 id="做一些自己不喜欢的事情"><a href="#做一些自己不喜欢的事情" class="headerlink" title="做一些自己不喜欢的事情"></a>做一些自己不喜欢的事情</h3><h3 id="给自己压力，想要完美的表现"><a href="#给自己压力，想要完美的表现" class="headerlink" title="给自己压力，想要完美的表现"></a>给自己压力，想要完美的表现</h3><h3 id="害怕犯错误或者批评"><a href="#害怕犯错误或者批评" class="headerlink" title="害怕犯错误或者批评"></a>害怕犯错误或者批评</h3><h2 id="完成任务的时候也要经常评估一下目前的进度"><a href="#完成任务的时候也要经常评估一下目前的进度" class="headerlink" title="完成任务的时候也要经常评估一下目前的进度"></a>完成任务的时候也要经常评估一下目前的进度</h2><h2 id="做决定是凭借直觉还是凭借意识？"><a href="#做决定是凭借直觉还是凭借意识？" class="headerlink" title="做决定是凭借直觉还是凭借意识？"></a>做决定是凭借直觉还是凭借意识？</h2><h3 id="凭借意识居多？"><a href="#凭借意识居多？" class="headerlink" title="凭借意识居多？"></a>凭借意识居多？</h3><h2 id="私人生活与职业生活的节奏"><a href="#私人生活与职业生活的节奏" class="headerlink" title="私人生活与职业生活的节奏"></a>私人生活与职业生活的节奏</h2><h2 id="在使用番茄工作法的过程中记录一下一个番茄钟内中断的次数"><a href="#在使用番茄工作法的过程中记录一下一个番茄钟内中断的次数" class="headerlink" title="在使用番茄工作法的过程中记录一下一个番茄钟内中断的次数"></a>在使用番茄工作法的过程中记录一下一个番茄钟内中断的次数</h2><h2 id="制作计划的方法"><a href="#制作计划的方法" class="headerlink" title="制作计划的方法"></a>制作计划的方法</h2><h3 id="标明需要做的事情，不管什么，先列举出来"><a href="#标明需要做的事情，不管什么，先列举出来" class="headerlink" title="标明需要做的事情，不管什么，先列举出来"></a>标明需要做的事情，不管什么，先列举出来</h3><ul>
<li><p>活动排序</p>
<ul>
<li>哪一些是今天必须要做的</li>
<li>哪一些是有时间的情况下选做的</li>
</ul>
</li>
</ul>
<h2 id="完成一个工作钟之后要出去走走，消除对当前工作的一些思考"><a href="#完成一个工作钟之后要出去走走，消除对当前工作的一些思考" class="headerlink" title="完成一个工作钟之后要出去走走，消除对当前工作的一些思考"></a>完成一个工作钟之后要出去走走，消除对当前工作的一些思考</h2><h3 id="长期的精神紧张，或导致工作记忆能力下降，从而使得变得焦虑容易生气"><a href="#长期的精神紧张，或导致工作记忆能力下降，从而使得变得焦虑容易生气" class="headerlink" title="长期的精神紧张，或导致工作记忆能力下降，从而使得变得焦虑容易生气"></a>长期的精神紧张，或导致工作记忆能力下降，从而使得变得焦虑容易生气</h3><ul>
<li>适当让压力系统放松</li>
</ul>
<h2 id="休息的时段就是要休息！！比如出去溜达、刷快手"><a href="#休息的时段就是要休息！！比如出去溜达、刷快手" class="headerlink" title="休息的时段就是要休息！！比如出去溜达、刷快手"></a>休息的时段就是要休息！！比如出去溜达、刷快手</h2><h2 id="在使用一个番茄钟的过程中，发现自己的工作已经提前完成了的情况下，也不要停下来转而去做其他的事情，而应该去深入学习这个！"><a href="#在使用一个番茄钟的过程中，发现自己的工作已经提前完成了的情况下，也不要停下来转而去做其他的事情，而应该去深入学习这个！" class="headerlink" title="在使用一个番茄钟的过程中，发现自己的工作已经提前完成了的情况下，也不要停下来转而去做其他的事情，而应该去深入学习这个！"></a>在使用一个番茄钟的过程中，发现自己的工作已经提前完成了的情况下，也不要停下来转而去做其他的事情，而应该去深入学习这个！</h2><h2 id="有时候自己懒散就是因为身体的客观生理反应，这个也是没有办法的！"><a href="#有时候自己懒散就是因为身体的客观生理反应，这个也是没有办法的！" class="headerlink" title="有时候自己懒散就是因为身体的客观生理反应，这个也是没有办法的！"></a>有时候自己懒散就是因为身体的客观生理反应，这个也是没有办法的！</h2><h2 id="一天结束之后需要总结自己的番茄时钟，在某一项任务上花费了多少的时间"><a href="#一天结束之后需要总结自己的番茄时钟，在某一项任务上花费了多少的时间" class="headerlink" title="一天结束之后需要总结自己的番茄时钟，在某一项任务上花费了多少的时间"></a>一天结束之后需要总结自己的番茄时钟，在某一项任务上花费了多少的时间</h2><h3 id="是否可以对活动进行进一步的拆分"><a href="#是否可以对活动进行进一步的拆分" class="headerlink" title="是否可以对活动进行进一步的拆分"></a>是否可以对活动进行进一步的拆分</h3><h2 id="专门开启一个番茄钟来做schedule"><a href="#专门开启一个番茄钟来做schedule" class="headerlink" title="专门开启一个番茄钟来做schedule"></a>专门开启一个番茄钟来做schedule</h2><h2 id="每天都有一个目标，一个最低限度的目标"><a href="#每天都有一个目标，一个最低限度的目标" class="headerlink" title="每天都有一个目标，一个最低限度的目标"></a>每天都有一个目标，一个最低限度的目标</h2><h2 id="遇到中断的事情就先记下来，然后再去做其他的事情"><a href="#遇到中断的事情就先记下来，然后再去做其他的事情" class="headerlink" title="遇到中断的事情就先记下来，然后再去做其他的事情"></a>遇到中断的事情就先记下来，然后再去做其他的事情</h2><h2 id="做做事情的时候遇到一些必须要中断的情况，比如跟家人打电话，上厕所，那么这个时候就把这个番茄钟删除，然后重新再来"><a href="#做做事情的时候遇到一些必须要中断的情况，比如跟家人打电话，上厕所，那么这个时候就把这个番茄钟删除，然后重新再来" class="headerlink" title="做做事情的时候遇到一些必须要中断的情况，比如跟家人打电话，上厕所，那么这个时候就把这个番茄钟删除，然后重新再来"></a>做做事情的时候遇到一些必须要中断的情况，比如跟家人打电话，上厕所，那么这个时候就把这个番茄钟删除，然后重新再来</h2><h2 id="预估"><a href="#预估" class="headerlink" title="预估"></a>预估</h2><h3 id="定期花时间做回顾"><a href="#定期花时间做回顾" class="headerlink" title="定期花时间做回顾"></a>定期花时间做回顾</h3><h3 id="对于一项活动需要去做拆解"><a href="#对于一项活动需要去做拆解" class="headerlink" title="对于一项活动需要去做拆解"></a>对于一项活动需要去做拆解</h3><ul>
<li>拆解后发现还是需要很多番茄钟，就继续拆解</li>
</ul>
<h3 id="活动做完之后要有评估"><a href="#活动做完之后要有评估" class="headerlink" title="活动做完之后要有评估"></a>活动做完之后要有评估</h3><ul>
<li><p>做之前预估是多少个番茄钟</p>
<ul>
<li>实际上完成花了多少个番茄钟</li>
</ul>
</li>
<li><p>在自己最先估计的番茄钟内没有完成之后进行二次预估</p>
<ul>
<li>也就是还需要多少番茄钟才能完成这样一项工作</li>
</ul>
</li>
</ul>
<h3 id="每天做计划的时候也要做一个番茄钟，摆正集中精力完成番茄钟"><a href="#每天做计划的时候也要做一个番茄钟，摆正集中精力完成番茄钟" class="headerlink" title="每天做计划的时候也要做一个番茄钟，摆正集中精力完成番茄钟"></a>每天做计划的时候也要做一个番茄钟，摆正集中精力完成番茄钟</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/29/other/fanqie/" data-id="cl85d5h4u0067i99o3nl6ayif" data-title="番茄工作法" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-citics/neo4j_query_optimize" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/20/citics/neo4j_query_optimize/" class="article-date">
  <time class="dt-published" datetime="2022-05-20T13:31:19.000Z" itemprop="datePublished">2022-05-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/">中信证券</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/20/citics/neo4j_query_optimize/">neo4j查询调优</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在使用<code>py2neo</code>库中涉及到<code>多跳查询</code>的时候，速度很慢，也别是涉及到<code>10跳</code>以上遍历的话速度会很慢，因此需要进行查询上优化。目前优化的思路主要有：</p>
<ol>
<li>建立索引</li>
<li>硬件优化</li>
<li>使用其他包</li>
</ol>
<p>在python包上，python操作neo4j的主流的包有2个，分别是:</p>
<ul>
<li>py2neo</li>
<li>neo4j-driver</li>
</ul>
<p>其中<code>neo4j-driver</code>是neo4j推出的官方包。<br>在这一篇<a target="_blank" rel="noopener" href="https://www.cnblogs.com/angdh/p/10315877.html">博客</a>中，作者比较了<code>neo4j-driver</code>、<code>py2neo</code>、<code>neo4jrestclient</code>三个库在运行cypher查询上的速度差异。作者的核心结论如下:</p>
<blockquote>
<p>My recommendation? Definitely <strong>py2no is not an option</strong>. Although it is user-friendly in many respects, it is too slow for counting queries. Neo4jrestclient is not bad, but sometimes it returns nested list structure which we have to deal with using some trick (e.g. “sum(temp,[])” which I want to avoid. So I think I would go with the Neo4j Python driver. After all it is the only official release supported by Neo4j. What is your recommendation?</p>
</blockquote>
<p>在<a target="_blank" rel="noopener" href="https://community.neo4j.com/">neo4j官方社区</a>中这一篇<a target="_blank" rel="noopener" href="https://community.neo4j.com/t/barebones-http-requests-much-faster-than-python-neo4j-driver-and-py2neo/3932">博客</a>作者比较了<code>neo4j-rest-server</code>、<code>py2neo</code>以及<code>neo4j-driver</code>三种方式进行cypher查询速度的测试。</p>
<blockquote>
<p>需要注意的是<code>neo4j-rest-server</code>在<code>neo4j4.x版本</code>被移除，因此该方式不在本次优化范围内。</p>
</blockquote>
<p>测试结果如下:</p>
<p><img src="0.png" alt="测试结果"></p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li>对比python 链接 neo4j 驱动,py2neo 和 neo4j-driver 和 neo4jrestclient: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/angdh/p/10315877.html">https://www.cnblogs.com/angdh/p/10315877.html</a></li>
<li>Barebones HTTP requests much faster than python neo4j-driver and py2neo?: <a target="_blank" rel="noopener" href="https://community.neo4j.com/t/barebones-http-requests-much-faster-than-python-neo4j-driver-and-py2neo/3932">https://community.neo4j.com/t/barebones-http-requests-much-faster-than-python-neo4j-driver-and-py2neo/3932</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/20/citics/neo4j_query_optimize/" data-id="cl85d5h2n000ci99oamvj8270" data-title="neo4j查询调优" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/" rel="tag">中信证券</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">工作</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-citics/baoleoji" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/20/citics/baoleoji/" class="article-date">
  <time class="dt-published" datetime="2022-05-20T11:49:36.000Z" itemprop="datePublished">2022-05-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/">中信证券</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/20/citics/baoleoji/">堡垒机使用技巧</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>由于堡垒机完全与外网隔绝，所以安装软件、调试代码方面有很多不便，因此总结一下堡垒机的一些使用的方法。</p>
<h2 id="安装python包"><a href="#安装python包" class="headerlink" title="安装python包"></a>安装python包</h2><p>由于一些包会依赖其他包，因此单独下载一个<code>whl</code>文件会导致安装不上的问题，因此比较合适的做法是：</p>
<blockquote>
<p>在本地下载好依赖包之后再去上传到堡垒机上。</p>
</blockquote>
<p>使用到了<code>pip download</code>这个指令，然后再通过<code>pip install</code>安装静态文件</p>
<p>本地<code>下载</code>包:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip download -d 目录 -r requirements.txt</span><br></pre></td></tr></table></figure>

<p>堡垒机上<code>安装</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --no-index --find-links=包目录 -r requirements.txt</span><br></pre></td></tr></table></figure>

<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li>windows server 2012桌面锁定在开始菜单那里什么都点不开 又没卡 怎么弄啊？: <a target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/1246627843100866579.html">https://zhidao.baidu.com/question/1246627843100866579.html</a></li>
<li>Windows server 2016 点开始无反应: <a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/e75057f2e456c8ebc81a894d.html">https://jingyan.baidu.com/article/e75057f2e456c8ebc81a894d.html</a></li>
<li>Pip 技巧 批量下载安装 WHL 文件: <a target="_blank" rel="noopener" href="https://blog.csdn.net/Daphnisz/article/details/106390316">https://blog.csdn.net/Daphnisz/article/details/106390316</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/20/citics/baoleoji/" data-id="cl85d5h2j0007i99oezni8tnv" data-title="堡垒机使用技巧" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/" rel="tag">中信证券</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">工作</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-other/jupyterhub_install" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/11/other/jupyterhub_install/" class="article-date">
  <time class="dt-published" datetime="2022-05-11T13:49:19.000Z" itemprop="datePublished">2022-05-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/11/other/jupyterhub_install/">jupyterhub配置使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>官方文档: <a target="_blank" rel="noopener" href="https://jupyterhub.readthedocs.io/en/latest/quickstart.html">https://jupyterhub.readthedocs.io/en/latest/quickstart.html</a></p>
<h1 id="机器基本配置"><a href="#机器基本配置" class="headerlink" title="机器基本配置"></a>机器基本配置</h1><ul>
<li>ubuntu</li>
<li>anaconda环境</li>
</ul>
<h1 id="Jupyterhub多用户配置"><a href="#Jupyterhub多用户配置" class="headerlink" title="Jupyterhub多用户配置"></a>Jupyterhub多用户配置</h1><p>要想实现<code>多用户互相隔离</code>需要满足以下条件：</p>
<ol>
<li>在ubuntu中需要新建用户。</li>
<li>ubuntu中为每一个用户编辑<code>.bashrc</code>，讲<code>anaconda</code>加入到环境变量中。</li>
<li>为自己的用户目录配置<code>777权限</code>。</li>
<li>编辑<code>jupyter-notebook</code>配置文件。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">c.LocalAuthenticator.create_system_users = <span class="literal">True</span></span><br><span class="line">c.Authenticator.whitelist = &#123;<span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;用户1&#x27;</span>, <span class="string">&#x27;用户2&#x27;</span>&#125; </span><br><span class="line">c.Authenticator.admin_users = &#123;<span class="string">&#x27;root&#x27;</span>, &#125;</span><br><span class="line">c.JupyterHub.admin_access = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">c.Spawner.args = [<span class="string">&#x27;--allow-root&#x27;</span>]</span><br><span class="line"><span class="comment"># 配置每一个用户的jupyter目录</span></span><br><span class="line">c.Spawner.notebook_dir = <span class="string">&#x27;~/notebook&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Jupyterhub-Django-OAuth配置"><a href="#Jupyterhub-Django-OAuth配置" class="headerlink" title="Jupyterhub + Django OAuth配置"></a>Jupyterhub + Django OAuth配置</h1><p>参考本链接: <a target="_blank" rel="noopener" href="https://vkaustubh.github.io/blog/geek/2020-02-08-integrating-jupytethub-with-django.html">https://vkaustubh.github.io/blog/geek/2020-02-08-integrating-jupytethub-with-django.html</a></p>
<p>jupyter-notebook文件配置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># This is how we tell Jupyter to use OAuth instead of the default</span></span><br><span class="line"><span class="comment"># authentication which is done using local Linux user accounts.</span></span><br><span class="line">c.JupyterHub.authenticator_class = <span class="string">&#x27;oauthenticator.generic.GenericOAuthenticator&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Where should Django pass the authentication results back to?</span></span><br><span class="line">c.GenericOAuthenticator.oauth_callback_url = <span class="string">&#x27;http://localhost:8010/hub/oauth_callback&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># What is the client ID and client secret for Jupyterhub provided Django?</span></span><br><span class="line"></span><br><span class="line">c.GenericOAuthenticator.client_id = <span class="string">&#x27;bzAVpy1Dm8xOrGjSBBganWWYeixGXPFY2YCelxld&#x27;</span></span><br><span class="line">c.GenericOAuthenticator.client_secret = <span class="string">&#x27;3qdEs5SkyBXMhY3DLmLOWqGgiROl6uEi0jUm5ek80tYJh2hWA4GxNn0qQyEcKZyR5BWDhKwCH89vKRFShHCudhIRTzO4d6bMunS1wncYCr43n2Li5Z380Tu4WoTOCzS4&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Where can Jupyterhub get the token from?</span></span><br><span class="line">c.GenericOAuthenticator.token_url = <span class="string">&#x27;http://localhost:8000/o/token/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Where can it get the user name from? What method shall it use?</span></span><br><span class="line"><span class="comment"># What key in the JSON output is the username?</span></span><br><span class="line">c.GenericOAuthenticator.userdata_url = <span class="string">&#x27;http://localhost:8000/userdata&#x27;</span></span><br><span class="line">c.GenericOAuthenticator.userdata_method = <span class="string">&#x27;GET&#x27;</span></span><br><span class="line">c.GenericOAuthenticator.userdata_params = &#123;&#125;</span><br><span class="line">c.GenericOAuthenticator.username_key = <span class="string">&#x27;username&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># What address will Jupyterhub be accessed from?</span></span><br><span class="line">c.JupyterHub.bind_url = <span class="string">&#x27;http://localhost:8010&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default Jupyterhub requires that a Linux user exist for every</span></span><br><span class="line"><span class="comment"># authenticated user. For testing, we are going to trick JupyterHub</span></span><br><span class="line"><span class="comment"># to merely pretend that such a user exists and launch notebook servers</span></span><br><span class="line"><span class="comment"># for the same user running the hub process itself!</span></span><br><span class="line"><span class="comment"># from jupyterhub.spawner import LocalProcessSpawner</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># class SameUserSpawner(LocalProcessSpawner):</span></span><br><span class="line"><span class="comment">#     &quot;&quot;&quot;Local spawner that runs single-user servers as the same user as the Hub itself.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#     Overrides user-specific env setup with no-ops.</span></span><br><span class="line"><span class="comment">#     &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#     def make_preexec_fn(self, name):</span></span><br><span class="line"><span class="comment">#         &quot;&quot;&quot;no-op to avoid setuid&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#         return lambda : None</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#     def user_env(self, env):</span></span><br><span class="line"><span class="comment">#         &quot;&quot;&quot;no-op to avoid setting HOME dir, etc.&quot;&quot;&quot; </span></span><br><span class="line"><span class="comment">#         return env</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># c.JupyterHub.spawner_class = SameUserSpawner</span></span><br><span class="line"></span><br><span class="line">c.LocalAuthenticator.create_system_users = <span class="literal">True</span></span><br><span class="line">c.Authenticator.whitelist = &#123;<span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;student1&#x27;</span>, <span class="string">&#x27;lgc&#x27;</span>&#125; </span><br><span class="line">c.Authenticator.admin_users = &#123;<span class="string">&#x27;root&#x27;</span>, &#125;</span><br><span class="line">c.JupyterHub.admin_access = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">c.Spawner.args = [<span class="string">&#x27;--allow-root&#x27;</span>]</span><br><span class="line">c.Spawner.notebook_dir = <span class="string">&#x27;~/notebook&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="how-to-add-an-user-to-Ubuntu"><a href="#how-to-add-an-user-to-Ubuntu" class="headerlink" title="how to add an user to Ubuntu"></a>how to add an user to Ubuntu</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> add username</span></span><br><span class="line"></span><br><span class="line">adduser student1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">set</span> paasword</span></span><br><span class="line"></span><br><span class="line">passwd student1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> mkdir user dir</span></span><br><span class="line"></span><br><span class="line">mkdir /home/student1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> auth the dir to the user</span></span><br><span class="line"></span><br><span class="line">chown student1 /home/student1</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="how-to-edit-bashrc"><a href="#how-to-edit-bashrc" class="headerlink" title="how to edit bashrc"></a>how to edit bashrc</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> !! Contents within this block are managed by <span class="string">&#x27;conda init&#x27;</span> !!</span></span><br><span class="line">__conda_setup=&quot;$(&#x27;/opt/anaconda3/bin/conda&#x27; &#x27;shell.bash&#x27; &#x27;hook&#x27; 2&gt; /dev/null)&quot;</span><br><span class="line">if [ $? -eq 0 ]; then</span><br><span class="line">    eval &quot;$__conda_setup&quot;</span><br><span class="line">else</span><br><span class="line">    if [ -f &quot;/opt/anaconda3/etc/profile.d/conda.sh&quot; ]; then</span><br><span class="line">        . &quot;/opt/anaconda3/etc/profile.d/conda.sh&quot;</span><br><span class="line">    else</span><br><span class="line">        export PATH=&quot;/opt/anaconda3/bin:$PATH&quot;</span><br><span class="line">    fi</span><br><span class="line">fi</span><br><span class="line">unset __conda_setup</span><br><span class="line"><span class="meta">#</span><span class="bash"> &lt;&lt;&lt; <span class="string">conda initialize &lt;&lt;&lt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="how-to-add-an-user-to-the-jupyterhub"><a href="#how-to-add-an-user-to-the-jupyterhub" class="headerlink" title="how to add an user to the jupyterhub"></a>how to add an user to the jupyterhub</h1><h2 id="user-the-root-to-create-an-user"><a href="#user-the-root-to-create-an-user" class="headerlink" title="user the root to create an user"></a>user the root to create an user</h2><h2 id="change-to-the-user"><a href="#change-to-the-user" class="headerlink" title="change to the user"></a>change to the user</h2><h2 id="mkdir-an-dir-named-notebook-to-the-added-user"><a href="#mkdir-an-dir-named-notebook-to-the-added-user" class="headerlink" title="mkdir an dir named notebook to the added user"></a>mkdir an dir named <code>notebook</code> to the added user</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">chmod -R 777 ~/notebook</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="change-the-bashrc-in-order-to-add-the-conda-path"><a href="#change-the-bashrc-in-order-to-add-the-conda-path" class="headerlink" title="change the .bashrc in order to add the conda path"></a>change the <code>.bashrc</code> in order to add the conda path</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gedit ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> add conda path</span></span><br><span class="line"></span><br><span class="line">source ~/.bashrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="change-jupuyerhub-config-py"><a href="#change-jupuyerhub-config-py" class="headerlink" title="change jupuyerhub_config.py"></a>change <code>jupuyerhub_config.py</code></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># add the username to the whitelist</span></span><br><span class="line"></span><br><span class="line">c.Authenticator.whitelist = &#123;<span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;student1&#x27;</span>, <span class="string">&#x27;lgc&#x27;</span>&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="restart-the-jupyterhub-server"><a href="#restart-the-jupyterhub-server" class="headerlink" title="restart the jupyterhub server"></a>restart the jupyterhub server</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/11/other/jupyterhub_install/" data-id="cl85d5h55006si99o654hftk7" data-title="jupyterhub配置使用" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-django/admin" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/10/django/admin/" class="article-date">
  <time class="dt-published" datetime="2022-05-10T08:34:12.000Z" itemprop="datePublished">2022-05-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Django/">Django</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/10/django/admin/">Django-admin配置</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h1><p><a target="_blank" rel="noopener" href="https://docs.djangoproject.com/zh-hans/4.0/ref/contrib/admin/">https://docs.djangoproject.com/zh-hans/4.0/ref/contrib/admin/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/10/django/admin/" data-id="cl85d5h31001ei99ofw7jh0wl" data-title="Django-admin配置" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-other/stock_prediction" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/02/other/stock_prediction/" class="article-date">
  <time class="dt-published" datetime="2022-05-02T07:24:55.000Z" itemprop="datePublished">2022-05-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/02/other/stock_prediction/">基于机器学习的股价预测</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="使用LinearSVR来预测股价的涨跌幅"><a href="#使用LinearSVR来预测股价的涨跌幅" class="headerlink" title="使用LinearSVR来预测股价的涨跌幅"></a>使用LinearSVR来预测股价的涨跌幅</h1><blockquote>
<p>X, y 都要做标准化才能有着好的推荐结果</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVR, SVR</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备数据</span></span><br><span class="line">df = pd.DataFrame(data=<span class="literal">None</span>, columns=[<span class="string">&#x27;open&#x27;</span>, <span class="string">&#x27;high&#x27;</span>, <span class="string">&#x27;low&#x27;</span>, <span class="string">&#x27;close&#x27;</span>, <span class="string">&#x27;date&#x27;</span>])</span><br><span class="line"><span class="comment"># 收盘价涨跌幅</span></span><br><span class="line">df[<span class="string">&#x27;change&#x27;</span>] = df[<span class="string">&#x27;close&#x27;</span>].diff().fillna(<span class="number">0</span>)</span><br><span class="line"><span class="comment"># 数据集切分</span></span><br><span class="line">train_num = <span class="built_in">int</span>(df.shape[<span class="number">0</span>] * <span class="number">0.8</span>) <span class="comment"># 80%作为训练集</span></span><br><span class="line">test_num = df.shape[<span class="number">0</span>] - train_num <span class="comment"># 剩下的20%作为测试集</span></span><br><span class="line">X = df[[<span class="string">&#x27;open&#x27;</span>, <span class="string">&#x27;high&#x27;</span>, <span class="string">&#x27;low&#x27;</span>, <span class="string">&#x27;close&#x27;</span>]].astype(<span class="string">&#x27;float&#x27;</span>).values</span><br><span class="line">y = df[[<span class="string">&#x27;change&#x27;</span>]].values</span><br><span class="line"><span class="comment"># 标准化处理特征值与y</span></span><br><span class="line">X_scaler = StandardScaler()</span><br><span class="line">X_ = X_scaler.fit_transform(X)</span><br><span class="line"></span><br><span class="line">y_scaler = StandardScaler()</span><br><span class="line">y_ = y_scaler.fit_transform(y)</span><br><span class="line"></span><br><span class="line">X_train = X_[<span class="number">0</span>:train_num]</span><br><span class="line">y_train = y_[<span class="number">0</span>:train_num]</span><br><span class="line">X_test = X_[train_num: ]</span><br><span class="line">y_test = y_[train_num: ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立模型</span></span><br><span class="line">model = LinearSVR()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型训练</span></span><br><span class="line">model.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型预测</span></span><br><span class="line">y_pred = model.predict(X_test)</span><br><span class="line"><span class="comment"># 模型评价指标</span></span><br><span class="line">mse = mean_squared_error(y_test, y_pred)</span><br><span class="line"><span class="built_in">print</span>(mse)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 股价变动可视化</span></span><br><span class="line">plt.plot(y_test, label=<span class="string">&#x27;y_test_change&#x27;</span>)</span><br><span class="line">plt.plot(y_pred, label=<span class="string">&#x27;y_pred_change&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;Price Change Prediction&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测收盘价</span></span><br><span class="line">y_pred_close = np.<span class="built_in">round</span>(X[train_num: , <span class="number">3</span>] + y_scaler.inverse_transform(y_pred.reshape((-<span class="number">1</span>, <span class="number">1</span>))).squeeze(), <span class="number">2</span>)</span><br><span class="line">y_test_close = X[train_num: , <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 收盘价可视化</span></span><br><span class="line">plt.plot(y_test_close, label=<span class="string">&#x27;y_test_close&#x27;</span>)</span><br><span class="line">plt.plot(y_pred_close, label=<span class="string">&#x27;y_pred_close&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;Closed Price Prediction&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>该方法比较鸡肋的是需要提供今天的开盘价、收盘价等4个特征来去预测明天的，没法预测未来N天的。</p>
</blockquote>
<h1 id="使用LSTM预测股价"><a href="#使用LSTM预测股价" class="headerlink" title="使用LSTM预测股价"></a>使用LSTM预测股价</h1><blockquote>
<p>核心是构造滑动窗口</p>
</blockquote>
<h1 id="股价预测包"><a href="#股价预测包" class="headerlink" title="股价预测包"></a>股价预测包</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/02/other/stock_prediction/" data-id="cl85d5h5c007ki99o5pmm0wpl" data-title="基于机器学习的股价预测" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-other/code_collections" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/26/other/code_collections/" class="article-date">
  <time class="dt-published" datetime="2022-04-26T08:32:20.000Z" itemprop="datePublished">2022-04-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/26/other/code_collections/">常用代码集合</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="sqlalchemy链接sqlite"><a href="#sqlalchemy链接sqlite" class="headerlink" title="sqlalchemy链接sqlite"></a>sqlalchemy链接sqlite</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> sqlalchemy</span><br><span class="line">db_path = <span class="string">&#x27;/Users/renweiqiang/outSource/进行中/0430_22682_空气质量指数/mysite/db.sqlite3&#x27;</span></span><br><span class="line">db_path = os.path.join(os.path.dirname(os.getcwd()), <span class="string">&#x27;db.sqlite3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建链接引擎</span></span><br><span class="line">engine = sqlalchemy.create_engine(<span class="string">f&#x27;sqlite:///<span class="subst">&#123;db_path&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="comment"># 链接数据库</span></span><br><span class="line">conn = engine.connect()</span><br><span class="line"><span class="comment"># CODE</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭数据库</span></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>

<h1 id="sqlalchemy链接mysql"><a href="#sqlalchemy链接mysql" class="headerlink" title="sqlalchemy链接mysql"></a>sqlalchemy链接mysql</h1><blockquote>
<p>20230205更新，sqlalchemy需要安装<code>1.4.35</code>版本</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> sqlalchemy</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line">host = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">port = <span class="string">&#x27;3306&#x27;</span></span><br><span class="line">username = <span class="string">&#x27;tianjin&#x27;</span></span><br><span class="line">password = <span class="string">&#x27;tianjin&#x27;</span></span><br><span class="line">db_name = <span class="string">&#x27;disk_3256&#x27;</span></span><br><span class="line"></span><br><span class="line">engine = sqlalchemy.create_engine(<span class="string">f&quot;mysql+pymysql://<span class="subst">&#123;username&#125;</span>:<span class="subst">&#123;password&#125;</span>@<span class="subst">&#123;host&#125;</span>:<span class="subst">&#123;port&#125;</span>/<span class="subst">&#123;db_name&#125;</span>&quot;</span>,echo=<span class="literal">True</span>)</span><br><span class="line">conn = engine.connect()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="pandas-to-sql"><a href="#pandas-to-sql" class="headerlink" title="pandas to_sql"></a>pandas to_sql</h1><h2 id="慢速"><a href="#慢速" class="headerlink" title="慢速"></a>慢速</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sqlalchemy</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">db_path = <span class="string">&#x27;/Users/renweiqiang/outSource/进行中/0430_22682_空气质量指数/mysite/db.sqlite3&#x27;</span></span><br><span class="line"><span class="comment"># 创建链接引擎</span></span><br><span class="line">engine = sqlalchemy.create_engine(<span class="string">f&#x27;sqlite:///<span class="subst">&#123;db_path&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空数据</span></span><br><span class="line"></span><br><span class="line">sql = <span class="string">f&#x27;&#x27;&#x27;delete from table</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">with</span> engine.connect() <span class="keyword">as</span> conn:</span><br><span class="line">    conn.execute(sql)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入数据库</span></span><br><span class="line"><span class="comment"># 链接数据库</span></span><br><span class="line">conn = engine.connect()</span><br><span class="line">df = <span class="literal">None</span></span><br><span class="line">df.to_sql(<span class="string">&#x27;table_name&#x27;</span>, conn, if_exists=<span class="string">&#x27;append&#x27;</span>, index=<span class="literal">False</span>, chunksize=<span class="number">2000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="快速导入"><a href="#快速导入" class="headerlink" title="快速导入"></a>快速导入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sqlalchemy</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> cStringIO</span><br><span class="line"></span><br><span class="line">db_path = <span class="string">&#x27;/Users/renweiqiang/outSource/进行中/0430_22682_空气质量指数/mysite/db.sqlite3&#x27;</span></span><br><span class="line"><span class="comment"># 创建链接引擎</span></span><br><span class="line">engine = sqlalchemy.create_engine(<span class="string">f&#x27;sqlite:///<span class="subst">&#123;db_path&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">output = cStringIO.StringIO()</span><br><span class="line"><span class="comment"># ignore the index</span></span><br><span class="line">df_a.to_csv(output, sep=<span class="string">&#x27;\t&#x27;</span>,index = <span class="literal">False</span>, header = <span class="literal">False</span>)</span><br><span class="line">output.getvalue()</span><br><span class="line"><span class="comment"># jump to start of stream</span></span><br><span class="line">output.seek(<span class="number">0</span>)</span><br><span class="line"> </span><br><span class="line">connection = engine.raw_connection() <span class="comment">#engine 是 from sqlalchemy import create_engine</span></span><br><span class="line">cursor = connection.cursor()</span><br><span class="line"><span class="comment"># null value become &#x27;&#x27;</span></span><br><span class="line">cursor.copy_from(output, table_name, null=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">connection.commit()</span><br><span class="line">cursor.close()</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">————————————————</span></span><br><span class="line"><span class="string">版权声明：本文为CSDN博主「Lenskit」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。</span></span><br><span class="line"><span class="string">原文链接：https://blog.csdn.net/chenkfkevin/article/details/72911525</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="停用词过滤"><a href="#停用词过滤" class="headerlink" title="停用词过滤"></a>停用词过滤</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="scikit-learn文本分类"><a href="#scikit-learn文本分类" class="headerlink" title="scikit-learn文本分类"></a>scikit-learn文本分类</h1><h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> sklearn.utils <span class="keyword">import</span> shuffle</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> joblib</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> CountVectorizer</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfTransformer</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">import</span> pickle <span class="keyword">as</span> pkl</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_stopwords</span>():</span></span><br><span class="line">    stopwords = <span class="built_in">set</span>()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./stopwords.txt&#x27;</span>, encoding=<span class="string">&#x27;UTF-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> fp:</span><br><span class="line">            stopwords.add(line.strip())</span><br><span class="line">    <span class="keyword">return</span> stopwords</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载停用词</span></span><br><span class="line">stopwords = load_stopwords()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">token_filter</span>(<span class="params">token</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    关键词过滤</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    token = token.strip()</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(token) <span class="keyword">in</span> [<span class="number">0</span>, <span class="number">1</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span> token <span class="keyword">in</span> stopwords:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line">pos_df = pd.read_csv(<span class="string">&#x27;./data/pos.txt&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">&#x27;    &#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pos_df)</span><br><span class="line">pos_df.columns = [<span class="string">&#x27;label&#x27;</span>, <span class="string">&#x27;content&#x27;</span>]</span><br><span class="line">neg_df = pd.read_csv(<span class="string">&#x27;./data/neg.txt&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">&#x27;    &#x27;</span>)</span><br><span class="line">neg_df.columns = [<span class="string">&#x27;label&#x27;</span>, <span class="string">&#x27;content&#x27;</span>]</span><br><span class="line"><span class="comment"># 合并数据</span></span><br><span class="line">df = pd.concat([pos_df, neg_df])</span><br><span class="line"><span class="comment"># 去重</span></span><br><span class="line">df = df.drop_duplicates()</span><br><span class="line">df = df.dropna()</span><br><span class="line">df[<span class="string">&#x27;label&#x27;</span>] = df[<span class="string">&#x27;label&#x27;</span>].replace(-<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分词 去除停用词</span></span><br><span class="line">X = []</span><br><span class="line">y = []</span><br><span class="line"><span class="keyword">for</span> label, content <span class="keyword">in</span> tqdm(df.values):</span><br><span class="line">    y.append(label)</span><br><span class="line">    tokens = <span class="built_in">list</span>(jieba.cut(content))</span><br><span class="line">    tokens = <span class="string">&#x27; &#x27;</span>.join(</span><br><span class="line">        [token <span class="keyword">for</span> token <span class="keyword">in</span> tokens <span class="keyword">if</span> token_filter(token) <span class="keyword">is</span> <span class="literal">True</span>]</span><br><span class="line">    )</span><br><span class="line">    X.append(tokens)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打散数据</span></span><br><span class="line">X, y = shuffle(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据切分</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;splited ok!&#x27;</span>)</span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">clf = Pipeline([</span><br><span class="line">    (<span class="string">&#x27;word_count&#x27;</span>, CountVectorizer()),</span><br><span class="line">    (<span class="string">&#x27;tfidf&#x27;</span>, TfidfTransformer()),  </span><br><span class="line">    (<span class="string">&#x27;svm&#x27;</span>, SVC())</span><br><span class="line">])</span><br><span class="line">clf.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">y_pred = clf.predict(X_test)</span><br><span class="line"><span class="built_in">print</span>(classification_report(y_test, y_pred))  <span class="comment"># 评测指标</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./models/clf.svm.pkl&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> wp:</span><br><span class="line">    pkl.dump(clf, wp)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="预测"><a href="#预测" class="headerlink" title="预测"></a>预测</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pickle <span class="keyword">as</span> pkl</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_stopwords</span>():</span></span><br><span class="line">    stopwords = <span class="built_in">set</span>()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./stopwords.txt&#x27;</span>, encoding=<span class="string">&#x27;UTF-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> fp:</span><br><span class="line">            stopwords.add(line.strip())</span><br><span class="line">    <span class="keyword">return</span> stopwords</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载停用词</span></span><br><span class="line">stopwords = load_stopwords()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">token_filter</span>(<span class="params">token</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    关键词过滤</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    token = token.strip()</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(token) <span class="keyword">in</span> [<span class="number">0</span>, <span class="number">1</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span> token <span class="keyword">in</span> stopwords:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">clf = <span class="literal">None</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;models/clf.svm.pkl&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    pkl.load(fp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">sentence</span>):</span></span><br><span class="line">    tokens = <span class="built_in">list</span>(jieba.cut(sentence))</span><br><span class="line">    tokens = <span class="string">&#x27; &#x27;</span>.join(</span><br><span class="line">        [token <span class="keyword">for</span> token <span class="keyword">in</span> tokens <span class="keyword">if</span> token_filter(token) <span class="keyword">is</span> <span class="literal">True</span>]</span><br><span class="line">    )</span><br><span class="line">    tokens = [tokens, ]</span><br><span class="line">    y_pred = clf.predict(tokens)</span><br><span class="line">    <span class="keyword">return</span> y_pred</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="requests爬虫"><a href="#requests爬虫" class="headerlink" title="requests爬虫"></a>requests爬虫</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> traceback</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">url = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    response = requests.get(url, headers=headers)</span><br><span class="line"><span class="keyword">except</span>: </span><br><span class="line">    <span class="built_in">print</span>(url, <span class="string">&#x27;请求失败&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> response.status_code != <span class="number">200</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;响应码: &#x27;</span>, response.status_code)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">response.encoding = <span class="string">&#x27;UTF-8&#x27;</span></span><br><span class="line">html = response.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解析</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="scikit-surprise协同过滤"><a href="#scikit-surprise协同过滤" class="headerlink" title="scikit-surprise协同过滤"></a>scikit-surprise协同过滤</h1><h1 id="select2插件使用"><a href="#select2插件使用" class="headerlink" title="select2插件使用"></a>select2插件使用</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 引入资源 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 启动该插件</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;selector&#x27;</span>).select2();</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="layui弹窗"><a href="#layui弹窗" class="headerlink" title="layui弹窗"></a>layui弹窗</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 引入资源 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/layer/3.5.1/layer.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// layui弹窗</span></span></span><br><span class="line">        layer.open(&#123;</span><br><span class="line">            type: 2,</span><br><span class="line">            title: title,</span><br><span class="line">            content: url,</span><br><span class="line"><span class="javascript">            area:[<span class="string">&#x27;95%&#x27;</span>, <span class="string">&#x27;700px&#x27;</span>],</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="table-左右滑动"><a href="#table-左右滑动" class="headerlink" title="table 左右滑动"></a>table 左右滑动</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">div</span><span class="selector-class">.table-area</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">white-space</span>: nowrap; </span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: hidden; </span></span><br><span class="line"><span class="css">        <span class="attribute">overflow-x</span>: scroll; -webkit-<span class="attribute">backface-visibility</span>: hidden; -webkit-<span class="attribute">overflow</span>-scrolling: touch;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="基于物品的协同过滤"><a href="#基于物品的协同过滤" class="headerlink" title="基于物品的协同过滤"></a>基于物品的协同过滤</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> BaselineOnly</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> NormalPredictor</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> Reader</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> KNNBasic</span><br><span class="line"><span class="keyword">from</span> surprise.model_selection <span class="keyword">import</span> cross_validate</span><br><span class="line"><span class="keyword">from</span> surprise.model_selection <span class="keyword">import</span> KFold</span><br><span class="line"><span class="keyword">from</span> surprise.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成一个dataframe，需要3列，分别是用户id(userId)、物品Id(itemId)、评分(rating)</span></span><br><span class="line">df = pd.DataFrame(data=[])</span><br><span class="line">df.columns = [<span class="string">&#x27;userId&#x27;</span>, <span class="string">&#x27;itemId&#x27;</span>, <span class="string">&#x27;rating&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 生成reader</span></span><br><span class="line">reader = Reader(rating_scale=(<span class="number">1</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 构造data</span></span><br><span class="line"><span class="comment"># The columns must correspond to user id, item id and ratings (in that order).</span></span><br><span class="line">dataset = Dataset.load_from_df(df[[<span class="string">&#x27;userId&#x27;</span>, <span class="string">&#x27;itemId&#x27;</span>, <span class="string">&#x27;rating&#x27;</span>]], reader)</span><br><span class="line">trainset = dataset.build_full_trainset()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 训练基于物品的协同过滤模型，把user_based值设置为false</span></span><br><span class="line">sim_options = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;pearson_baseline&#x27;</span>, <span class="string">&#x27;user_based&#x27;</span>: <span class="literal">False</span>&#125;</span><br><span class="line">algo = KNNBasic(sim_options=sim_options)</span><br><span class="line">algo.fit(trainset)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 预测</span></span><br><span class="line">item_id = <span class="number">57641555</span></span><br><span class="line"><span class="comment"># 转化为Inner_id</span></span><br><span class="line">inner_id = algo.trainset.to_inner_iid(item_id)</span><br><span class="line">sim_inner_ids = algo.get_neighbors(inner_id, k=<span class="number">10</span>) <span class="comment"># 找到10个相似的item</span></span><br><span class="line"><span class="comment"># 找到推荐的商品</span></span><br><span class="line">recommend_items = [algo.trainset.to_raw_iid(i) <span class="keyword">for</span> i <span class="keyword">in</span> sim_inner_ids]</span><br></pre></td></tr></table></figure>

<h1 id="基于用户的协同过滤"><a href="#基于用户的协同过滤" class="headerlink" title="基于用户的协同过滤"></a>基于用户的协同过滤</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> BaselineOnly</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> NormalPredictor</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> Reader</span><br><span class="line"><span class="keyword">from</span> surprise <span class="keyword">import</span> KNNBasic</span><br><span class="line"><span class="keyword">from</span> surprise.model_selection <span class="keyword">import</span> cross_validate</span><br><span class="line"><span class="keyword">from</span> surprise.model_selection <span class="keyword">import</span> KFold</span><br><span class="line"><span class="keyword">from</span> surprise.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成一个dataframe，需要3列，分别是用户id(userId)、物品Id(itemId)、评分(rating)</span></span><br><span class="line">df = pd.DataFrame(data=[])</span><br><span class="line">df.columns = [<span class="string">&#x27;userId&#x27;</span>, <span class="string">&#x27;itemId&#x27;</span>, <span class="string">&#x27;rating&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 生成reader</span></span><br><span class="line">reader = Reader(rating_scale=(<span class="number">1</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 构造data</span></span><br><span class="line"><span class="comment"># The columns must correspond to user id, item id and ratings (in that order).</span></span><br><span class="line">dataset = Dataset.load_from_df(df[[<span class="string">&#x27;userId&#x27;</span>, <span class="string">&#x27;itemId&#x27;</span>, <span class="string">&#x27;rating&#x27;</span>]], reader)</span><br><span class="line">trainset = dataset.build_full_trainset()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 训练基于物品的协同过滤模型，把user_based值设置为True</span></span><br><span class="line">sim_options = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;pearson_baseline&#x27;</span>, <span class="string">&#x27;user_based&#x27;</span>: <span class="literal">True</span>&#125;</span><br><span class="line">algo = KNNBasic(sim_options=sim_options)</span><br><span class="line">algo.fit(trainset)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 预测</span></span><br><span class="line">user_id = <span class="number">57641555</span></span><br><span class="line"><span class="comment"># 转化为Inner_id</span></span><br><span class="line">inner_user_id = algo.trainset.to_inner_uid(user_id)</span><br><span class="line">sim_inner_user_ids = algo.get_neighbors(inner_id, k=<span class="number">10</span>) <span class="comment"># 找到10个相似的item</span></span><br><span class="line"><span class="comment"># 找到推荐的用户</span></span><br><span class="line">recommend_users = [algo.trainset.to_raw_uid(i) <span class="keyword">for</span> i <span class="keyword">in</span> sim_inner_user_ids]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 与django结合</span></span><br><span class="line">recom_qs = []</span><br><span class="line"><span class="keyword">for</span> nuid <span class="keyword">in</span> recommend_users:</span><br><span class="line">    <span class="comment"># 找到用户评分最高的对象</span></span><br><span class="line">    m = Rating.objects.<span class="built_in">filter</span>(user__id=nuid).order_by(<span class="string">&#x27;-rating&#x27;</span>)[<span class="number">0</span>].movie</span><br><span class="line">    recom_qs.append(m)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="LDA主题分析"><a href="#LDA主题分析" class="headerlink" title="LDA主题分析"></a>LDA主题分析</h1><h2 id="sklearn版"><a href="#sklearn版" class="headerlink" title="sklearn版"></a>sklearn版</h2><h2 id="gensim版"><a href="#gensim版" class="headerlink" title="gensim版"></a>gensim版</h2><h1 id="pandas-to-html与bootstrap结合，table左右浮动"><a href="#pandas-to-html与bootstrap结合，table左右浮动" class="headerlink" title="pandas.to_html与bootstrap结合，table左右浮动"></a>pandas.to_html与bootstrap结合，table左右浮动</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">font-size</span>:<span class="number">0.75rem</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .table-area &#123;</span><br><span class="line"><span class="css">        <span class="attribute">white-space</span>: nowrap; </span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: hidden; </span></span><br><span class="line"><span class="css">        <span class="attribute">overflow-x</span>: scroll; </span></span><br><span class="line"><span class="css">        <span class="attribute">overflow-y</span>: scroll; </span></span><br><span class="line"><span class="css">        -webkit-<span class="attribute">backface-visibility</span>: hidden; </span></span><br><span class="line"><span class="css">        -webkit-<span class="attribute">overflow</span>-scrolling: touch;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">700px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table-area text-center&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; table|safe &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;table&#x27;</span>).addClass(<span class="string">&#x27;table table-borderd table-striped&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;table thead tr&#x27;</span>).attr(<span class="string">&#x27;style&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="django发送email"><a href="#django发送email" class="headerlink" title="django发送email"></a>django发送email</h1><h2 id="mysite-settings-py"><a href="#mysite-settings-py" class="headerlink" title="mysite/settings.py"></a>mysite/settings.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 邮件配置</span></span><br><span class="line">EMAIL_BACKEND = <span class="string">&#x27;django.core.mail.backends.smtp.EmailBackend&#x27;</span></span><br><span class="line">EMAIL_HOST = <span class="string">&#x27;smtp.exmail.qq.com&#x27;</span></span><br><span class="line">EMAIL_PORT = <span class="number">465</span></span><br><span class="line"><span class="comment">#发送邮件的邮箱</span></span><br><span class="line">EMAIL_HOST_USER = <span class="string">&#x27;rwqccnuimd@mails.ccnu.edu.cn&#x27;</span></span><br><span class="line"><span class="comment">#在邮箱中设置的客户端授权密码</span></span><br><span class="line">EMAIL_HOST_PASSWORD = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#收件人看到的发件人</span></span><br><span class="line">EMAIL_FROM = <span class="string">&#x27;rwqccnuimd@mails.ccnu.edu.cn&#x27;</span></span><br><span class="line">EMAIL_USE_SSL = <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h2 id="views-py"><a href="#views-py" class="headerlink" title="views.py"></a>views.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.core.mail <span class="keyword">import</span> send_mail</span><br><span class="line"><span class="keyword">from</span> mysite.settings <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">subject = <span class="string">&#x27;郑州道路拥堵预警&#x27;</span>	<span class="comment">#主题</span></span><br><span class="line">message = <span class="string">&#x27;我是内容&#x27;</span>	<span class="comment">#内容</span></span><br><span class="line">sender = EMAIL_FROM		<span class="comment">#发送邮箱，已经在settings.py设置，直接导入</span></span><br><span class="line">email = <span class="string">&#x27;2667743665@qq.com&#x27;</span></span><br><span class="line"><span class="comment"># email = &#x27;1024749861@qq.com&#x27;</span></span><br><span class="line">receiver = [email, ]	<span class="comment">#目标邮箱 切记此处只能是列表或元祖</span></span><br><span class="line">html_msg = <span class="string">&#x27;&lt;h1&gt;Hello World&lt;/h1&gt;&#x27;</span></span><br><span class="line">send_mail(subject, message, sender, receiver, html_message=html_message)</span><br></pre></td></tr></table></figure>

<h1 id="pyecharts饼图带上比例"><a href="#pyecharts饼图带上比例" class="headerlink" title="pyecharts饼图带上比例"></a>pyecharts饼图带上比例</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plot.set_series_opts(</span><br><span class="line">    label_opts=opts.LabelOpts(formatter=<span class="string">&quot;&#123;b&#125;: &#123;d&#125;%&quot;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="pyecharts折线图去掉label"><a href="#pyecharts折线图去掉label" class="headerlink" title="pyecharts折线图去掉label"></a>pyecharts折线图去掉label</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plot.set_series_opts(</span><br><span class="line">    label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="pyecharts关系图变成有向图"><a href="#pyecharts关系图变成有向图" class="headerlink" title="pyecharts关系图变成有向图"></a>pyecharts关系图变成有向图</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">c = (</span><br><span class="line">    Graph(init_opts=opts.InitOpts(chart_id=<span class="string">&#x27;myChart&#x27;</span>, height=<span class="string">&quot;800px&quot;</span>))</span><br><span class="line">    .add(</span><br><span class="line">        <span class="string">&quot;&quot;</span>,</span><br><span class="line">        echarts_nodes_data,</span><br><span class="line">        echarts_edge_data,</span><br><span class="line">        repulsion=<span class="number">4000</span>,</span><br><span class="line">        <span class="comment"># 参考：https://blog.csdn.net/hj009zzh/article/details/114928411</span></span><br><span class="line">        edge_symbol=[<span class="string">&#x27;circle&#x27;</span>, <span class="string">&#x27;arrow&#x27;</span>] <span class="comment"># 这里控制是否显示</span></span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Attack Path&quot;</span>),</span><br><span class="line">        legend_opts=opts.LegendOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">    )</span><br><span class="line">    .set_series_opts(label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>), tooltip_opts=opts.TooltipOpts())</span><br><span class="line">    .render(<span class="string">&quot;攻击路径可视化.html&quot;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="关联规则"><a href="#关联规则" class="headerlink" title="关联规则"></a>关联规则</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> mlxtend.preprocessing <span class="keyword">import</span> TransactionEncoder</span><br><span class="line"><span class="keyword">from</span> mlxtend.frequent_patterns <span class="keyword">import</span> apriori</span><br><span class="line"><span class="keyword">from</span> mlxtend.frequent_patterns <span class="keyword">import</span> association_rules</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./data.csv&#x27;</span>, header=<span class="number">0</span>)</span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> df.groupby([<span class="string">&#x27;读者ID&#x27;</span>]):</span><br><span class="line">    i = i[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> i.shape[<span class="number">0</span>] &gt;= <span class="number">2</span>:</span><br><span class="line">        data.append(i[<span class="string">&#x27;图书ID&#x27;</span>].tolist())</span><br><span class="line"></span><br><span class="line">records = data</span><br><span class="line">te = TransactionEncoder()</span><br><span class="line"><span class="comment">#进行 one-hot 编码</span></span><br><span class="line">te_ary = te.fit(records).transform(records)</span><br><span class="line">df = pd.DataFrame(te_ary, columns=te.columns_)</span><br><span class="line"></span><br><span class="line">freq = apriori(df, min_support=<span class="number">0.001</span>, use_colnames=<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#计算关联规则</span></span><br><span class="line">result = association_rules(freq, metric=<span class="string">&quot;confidence&quot;</span>, min_threshold=<span class="number">0.05</span>)</span><br><span class="line">result.to_excel(<span class="string">&#x27;./结果.xlsx&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="通用程序启动流程"><a href="#通用程序启动流程" class="headerlink" title="通用程序启动流程"></a>通用程序启动流程</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建venv环境</span></span><br><span class="line">python -m venv venv</span><br><span class="line"><span class="meta">#</span><span class="bash"> 激活venv环境</span></span><br><span class="line">Source venv\Script\activate</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装依赖</span></span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"><span class="meta">#</span><span class="bash"> 初始化数据库与表</span></span><br><span class="line">python manage.py migrate</span><br><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br><span class="line"><span class="meta">#</span><span class="bash"> 导入数据</span></span><br><span class="line">python setup.py</span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动网站</span></span><br><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure>

<h1 id="scrapy新闻爬虫"><a href="#scrapy新闻爬虫" class="headerlink" title="scrapy新闻爬虫"></a>scrapy新闻爬虫</h1><h1 id="scrapy插入mysql的pipeline"><a href="#scrapy插入mysql的pipeline" class="headerlink" title="scrapy插入mysql的pipeline"></a>scrapy插入mysql的pipeline</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/04/26/other/code_collections/" data-id="cl85d5h4o005ti99o1vgi0y3b" data-title="常用代码集合" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CV/">-CV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Django/">Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/NLP/">NLP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/django/">django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/sql/">sql</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%9A%E5%8A%A1/">业务</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%9A%E5%8A%A1%E6%8C%87%E6%A0%87/">业务指标</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/">中信证券</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E4%BB%96/Django/">Django</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/Flume/">Flume</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E9%9B%86/">数据集</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87/">毕业论文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">毕业设计</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%AC%E8%99%AB/">爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%8B%E6%8B%9B/">秋招</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%8B%E6%8B%9B/%E9%9D%A2%E8%AF%95/">面试</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AC%94%E8%AF%95/">笔试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/">统计学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BA%E6%96%87/">论文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%87%91%E5%B1%B1%E5%AE%9E%E4%B9%A0/">金山实习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%93%B6%E8%81%94%E5%AE%9E%E4%B9%A0/">银联实习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">-leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CV/" rel="tag">CV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flume/" rel="tag">Flume</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hbase/" rel="tag">Hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/" rel="tag">NLP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/" rel="tag">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%9A%E5%8A%A1/" rel="tag">业务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/" rel="tag">中信证券</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E4%B9%A0/" rel="tag">实习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">工作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" rel="tag">数据集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%A2%84%E6%B5%8B/" rel="tag">时间序列预测</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87/" rel="tag">毕业论文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" rel="tag">毕业设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%8B%E6%8B%9B/" rel="tag">秋招</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AF%95/" rel="tag">笔试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%9F%E8%AE%A1%E5%AD%A6/" rel="tag">统计学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BA%E6%96%87/" rel="tag">论文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%91%E5%B1%B1%E5%AE%9E%E4%B9%A0/" rel="tag">金山实习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%93%B6%E8%81%94%E5%AE%9E%E4%B9%A0/" rel="tag">银联实习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/leetcode/" style="font-size: 10px;">-leetcode</a> <a href="/tags/CV/" style="font-size: 10px;">CV</a> <a href="/tags/Django/" style="font-size: 13.33px;">Django</a> <a href="/tags/Flume/" style="font-size: 10px;">Flume</a> <a href="/tags/Hbase/" style="font-size: 10px;">Hbase</a> <a href="/tags/NLP/" style="font-size: 10px;">NLP</a> <a href="/tags/SQL/" style="font-size: 18.89px;">SQL</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/leetcode/" style="font-size: 15.56px;">leetcode</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/%E4%B8%9A%E5%8A%A1/" style="font-size: 13.33px;">业务</a> <a href="/tags/%E4%B8%AD%E4%BF%A1%E8%AF%81%E5%88%B8/" style="font-size: 11.11px;">中信证券</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 20px;">其他</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 13.33px;">大数据</a> <a href="/tags/%E5%AE%9E%E4%B9%A0/" style="font-size: 16.67px;">实习</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size: 11.11px;">工作</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" style="font-size: 10px;">数据集</a> <a href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%A2%84%E6%B5%8B/" style="font-size: 10px;">时间序列预测</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 12.22px;">机器学习</a> <a href="/tags/%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87/" style="font-size: 14.44px;">毕业论文</a> <a href="/tags/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" style="font-size: 10px;">毕业设计</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 12.22px;">爬虫</a> <a href="/tags/%E7%A7%8B%E6%8B%9B/" style="font-size: 13.33px;">秋招</a> <a href="/tags/%E7%AC%94%E8%AF%95/" style="font-size: 12.22px;">笔试</a> <a href="/tags/%E7%BB%9F%E8%AE%A1%E5%AD%A6/" style="font-size: 12.22px;">统计学</a> <a href="/tags/%E8%AE%BA%E6%96%87/" style="font-size: 11.11px;">论文</a> <a href="/tags/%E9%87%91%E5%B1%B1%E5%AE%9E%E4%B9%A0/" style="font-size: 13.33px;">金山实习</a> <a href="/tags/%E9%93%B6%E8%81%94%E5%AE%9E%E4%B9%A0/" style="font-size: 10px;">银联实习</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 17.78px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/05/14/other/time_series_pred/">时间序列预测</a>
          </li>
        
          <li>
            <a href="/2023/05/01/other/customer_analysis_in_python/">用户价值分析</a>
          </li>
        
          <li>
            <a href="/2022/06/15/other/PEP8/">PEP-8: Python代码规范</a>
          </li>
        
          <li>
            <a href="/2022/05/29/other/fanqie/">番茄工作法</a>
          </li>
        
          <li>
            <a href="/2022/05/20/citics/neo4j_query_optimize/">neo4j查询调优</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>